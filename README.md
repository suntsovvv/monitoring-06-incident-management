# Домашнее задание к занятию 17 «Инцидент-менеджмент»

## Задание

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информацию о сбое можно изучить по ссылкам ниже:

* [краткое описание на русском языке](https://habr.com/ru/post/427301/);
* [развёрнутое описание на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).


Краткое описание инцидента


<table>
  <tr>
    <th>предшествующие события</th>
    <td>После нескольких попыток создания Issue и записи комментариев к уже существующим — столкнулся с тем что запись/комментарий визуально отображаются а после перезагрузки — пропадают.</td>
  </tr>
  <tr>
    <th>причина инцидента</th>
    <td>В 22:52 (21.10) по UTC на нескольких сервисах GitHub.com пострадали несколько сетевых разделов и последующим сбоем базы данных, что привело к появлению непоследовательной информации на нашем веб-сайте.</td>
  </tr>
  <tr>
    <th>воздействие</th>
    <td>Недоступность трэкера и хуков</td>
  </tr>
  <tr>
    <th>обнаружение</th>
    <td>Система мониторинга начала генерировать сообщения о различных ошибках. Ответственные инженеры обнаружили, что несколько MySQL кластеров находятся в состоянии ошибки. Primary и Secondary копии были рассинхронизированы, без возможности синхронизации</td>
  </tr>
  <tr>
    <th>реакция</th>
    <td>Остановлены все процессы для предотвращения дальнейшей рассинхронизации. Был составлен план восстановления из бэкапа</td>
  </tr>
  <tr>
    <th>восстановление</th>
    <td>Были созданы новые кластера баз данных MySQL. И загружены последние доступные бэкапы баз данных. Затем вручную были устраненые противоречия</td>
  </tr>  
  <tr>
    <th>таймлайн</th>
    <td>
<ul>
<li>2018 October 21 22:52 UTC Работы по замене сбойного сетевого оборудования в сети 100Гбит
<li>2018 October 21 22:54 UTC Алерты от системы мониторинга</li>
<li>2018 October 21 23:07 UTC Блокировка изменений</li>
<li>2018 October 21 23:13 UTC Изучение проблемы</li>
<li>2018 October 21 23:19 UTC Остановка всех процессов для сохранения целостности данных	</li>
<li>2018 October 22 00:05 UTC Начало разработки плана восстановления</li>
<li>2018 October 22 00:41 UTC Начало процесса восстановления из бэкапа</li>
<li>2018 October 22 06:51 UTC Несколько бд восстановлено. Обнаружено замедление при взаимодействии компонентов между ЦОД-ами</li>
<li>2018 October 22 11:12 UTC Все праймари восстановлены на восточном побережье. Отзывчивость сайта улучшилась</li>
<li>2018 October 22 13:15 UTC Увеличение трафика на github.com</li>
<li>2018 October 22 16:24 UTC Переключение в оригинальную топологию</li>
<li>2018 October 22 16:45 UTC Балансировка нагрузки из за накопившегося бэклога</li>
<li>2018 October 22 23:03 UTC Вся очередь вебхуков и билдов обработалась</li>
</ul>
</td>
  </tr> 
  <tr>
    <th>последующие действия</th>
    <td>
<ul>
<li>Изменение настройки оркестратора: исключить переключение на реплику в другом регионе</li>
<li>Переход на новый механизм отчетности о статусе</li>
<li>Ускорение инициацивы по поддержка резервирования N+1 на уровне объекта.</li>
</ul>
</td>
  </tr>      
</table>
